<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>每日小Tip | his-note</title>
    <meta name="description" content="his-site">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/his-note/assets/style.sgJTAKv7.css" as="style">
    <link rel="preload stylesheet" href="/his-note/vp-icons.css" as="style">
    
    <script type="module" src="/his-note/assets/app.C7lICbux.js"></script>
    <link rel="preload" href="/his-note/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/his-note/assets/chunks/theme.C9TK1isN.js">
    <link rel="modulepreload" href="/his-note/assets/chunks/framework.DO_qJNgM.js">
    <link rel="modulepreload" href="/his-note/assets/springboot_tip.md.CUx0DRGL.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/his-note/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>his-note</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/his-note/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>SpringBoot</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/oop.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>OOP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/at-bean.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>@Bean</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/at-override.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>@Override</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/sa-token.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>SaToken</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/question.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Question</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/dairy.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Dairy</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/servlet.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Servlet</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/tip.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>每日小Tip</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/springboot/demo.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>项目构建</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Java</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/java/javaSE.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Java基础语法</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Eight-legged Essay</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/eightessay/redis.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Redis</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Interview</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/interview/work.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>面试宝典</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/interview/work_bottom.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Java核心技术</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/interview/work_middle.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Java核心技术进阶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/interview/work_high.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Java核心技术高阶</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Docker</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/docker/command.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>命令</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Cloud</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/cloud/minio.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>minio容器</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Bug</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/bug/bug.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>bug</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Tips</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/his-note/tip/tip1.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>tip1</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _his-note_springboot_tip" data-v-e6f2a212><div><h1 id="每日小tip" tabindex="-1">每日小Tip <a class="header-anchor" href="#每日小tip" aria-label="Permalink to &quot;每日小Tip&quot;">​</a></h1><br><br><p><img src="/his-note/assets/image37.D9XCCzOu.png" alt=""><img src="/his-note/assets/image38.BTi_FVSS.png" alt=""><img src="/his-note/assets/image39.YVDT_32L.png" alt=""></p><br><br><h2 id="前端允许跨域请求" tabindex="-1">前端允许跨域请求: <a class="header-anchor" href="#前端允许跨域请求" aria-label="Permalink to &quot;前端允许跨域请求:&quot;">​</a></h2><div class="language-Vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server:{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    host: &quot;localhost&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    port: 7600,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cors: true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><br><h2 id="大型网站在负载较大的情况下加载页面也很快是为什么" tabindex="-1">大型网站在负载较大的情况下加载页面也很快是为什么？ <a class="header-anchor" href="#大型网站在负载较大的情况下加载页面也很快是为什么" aria-label="Permalink to &quot;大型网站在负载较大的情况下加载页面也很快是为什么？&quot;">​</a></h2><p>这是因为大型的电商网站都会把首页的数据缓存到内存当中，当前端项目渲染首页的时候，后端只需要从内存中提取数据即可，不需要走数据库，所以首页加载速度就明显提升了。</p><br><br><h2 id="vue命令行指令" tabindex="-1">Vue命令行指令： <a class="header-anchor" href="#vue命令行指令" aria-label="Permalink to &quot;Vue命令行指令：&quot;">​</a></h2><ol><li>$ <code>git status</code>:查看暂存区情况，绿色已上传，红色未上传。</li></ol><br><br><h2 id="java标准库" tabindex="-1">Java标准库 <a class="header-anchor" href="#java标准库" aria-label="Permalink to &quot;Java标准库&quot;">​</a></h2><p>Java标准库是一组预定义的类和接口，为Java程序提供了广泛的功能。这些库位于<code>java.</code>和<code>javax.</code>包以及一些其他位置，是Java编程语言的核心部分。<br><strong>核心Java类库:</strong></p><ul><li><code>java.lang</code>包:包含所有Java程序都需要的类，如<code>String</code>、<code>Math</code>、<code>System</code>等。这个包由解释程序自动加载，不需要显式说明（不需要用<code>import</code>）。</li><li><code>java.util</code>包：包含集合框架（如<code>List</code>、<code>Set</code>、<code>Map</code>），日期和时间API（如<code>Calendar</code>、<code>Date</code>、<code>TimeZone</code>）,随机数生成器（<code>Random</code>）等</li><li><code>java.io</code>包：包含用于文件和流操作的类，如<code>File</code>、<code>FileInputStream</code>、<code>BufferedReader</code>、<code>BufferedWriter</code>,这些类提供了对不同输入和输出设备读写数据的支持。</li><li><code>java.nio</code>包：提供非阻塞I/O类库，用于提高I/O操作的性能和可扩展性。</li><li><code>java.net</code>包：包含用于网络编程的类，如<code>URL</code>、<code>Socket</code>、<code>Serversocket</code>、<code>InetAddress</code>等。</li><li><code>java.sql</code>包：提供与数据库交互的接口，如<code>Connection</code>、<code>Statement</code>、<code>ResultSet</code>等。<br> 其他常用包：</li><li><code>java.awt</code>、<code>javax.swing</code>:用于创建图形用户界面（GUI）的类库。</li><li><code>java.security</code>:包含用于加密、访问控制、证书、密钥生成和管理的类。</li><li><code>java.util.concurrent</code>:包含用于并发编程的类，如<code>Thread</code>、<code>Runnable</code>、<code>ExecutorService</code>、<code>ConutDownLatch</code>等。</li></ul><br><br><h2 id="java-api文档" tabindex="-1">Java API文档 <a class="header-anchor" href="#java-api文档" aria-label="Permalink to &quot;Java API文档&quot;">​</a></h2><p>是一个详细的在线资源，其中包含了关于Java标准库中每个类和接口的详细信息，包括其方法和属性描述、示例代码和常见问题解答，可以通过<code>Oracle</code>官方网站来访问这些文档。</p><br><br><h2 id="java类" tabindex="-1">Java类 <a class="header-anchor" href="#java类" aria-label="Permalink to &quot;Java类&quot;">​</a></h2><h3 id="_1" tabindex="-1">@1 <a class="header-anchor" href="#_1" aria-label="Permalink to &quot;@1&quot;">​</a></h3><p><code>RoutimeException</code>:是Java标准库中的一个类，继承自<code>Exception</code>,是所有运行时异常的基类。<br></p><p>未检查异常：与<code>IOException</code>等已检查异常不同，<code>RoutimeException</code>不需要在方法签名中声明，也不强制要求使用<code>try-catch</code>块进行捕获。<br> 典型错误类型:<code>RoutimeException</code>通常用于描述程序逻辑上的错误，编译器无法检查这些错误，通常是程序员的疏忽或输入不当导致的。</p><br><br><h2 id="全局处理异常" tabindex="-1">全局处理异常 <a class="header-anchor" href="#全局处理异常" aria-label="Permalink to &quot;全局处理异常&quot;">​</a></h2><p><code>SpringBoot</code>提供了全局处理异常的技术，只要我们给某个Java类用上<code>@RestControllerAdvice</code>注解，这个类就能捕获SpringBoot项目中所有的异常，然后统一处理，即把异常的详情信息输出到后端的日志里面，然后将精简的异常信息返回给前端项目。</p><br><br><h2 id="异步线程" tabindex="-1">异步线程 <a class="header-anchor" href="#异步线程" aria-label="Permalink to &quot;异步线程&quot;">​</a></h2><p>SpringBoot会把某些任务对象推给线程池去执行。之所以叫异步线程，是因为线程池中的线程相当于主线程来说就是异步的：主线程把任务推给线程池，线程池挑选某个空闲线程去执行这个任务，主线程并不会等待线程池的执行结果，主线程会继续往下做别的事情。</p><br><br><h2 id="注解" tabindex="-1">注解 <a class="header-anchor" href="#注解" aria-label="Permalink to &quot;注解&quot;">​</a></h2><ol><li><p><code>@EnableAsync</code>:主类加上此注解后，SpringBoot就开启了异步线程的功能。这样某些任务就可以推送给线程池去执行。 <br></p></li><li><p><code>@Async</code>:向线程池推送任务去执行。<br> 定义了一个Java类，名字叫什么无所谓：</p></li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CheckupWorkAsync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //声明一个方法,推给线程池去执行</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //注解括号里的是线程池执行者的名字</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AsyncTaskExecutor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createReport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Integer </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><ol start="3"><li><p><code>@Data</code>：生成get、set方法。 <br></p></li><li><p><code>@NotBlank</code>:验证变量的值是否为空值或者空字符串。(针对字符串)</p></li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NotBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;username不能为空&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String username;</span></span></code></pre></div><br><ol start="5"><li><code>@NotNull</code>：用于标记某个字段、方法参数或返回值不允许为<code>null</code>。其核心目的是在编译时或运行时检查空值，避免潜在的<code>NullPointerException</code>。</li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NotNull</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Integer length;</span></span></code></pre></div><br><ol start="6"><li><code>@RestController</code>:接口方法返回对象，转换为json文本。在接口类里面使用，因为如果把当前的接口返回给对应的客户端，肯定需要把后端的数据转化为json文本，对应的客户端才能够更好的进行处理。</li></ol><br><ol start="7"><li><code>@RequestMapping(&quot;/user&quot;)</code>:加一级类级别的映射,到时候客户端去访问当前的接口的时候，即<code>localhost:8088/user/**</code>来访问后面的接口。</li></ol><br><ol start="8"><li><code>@Repository</code>:将当前类注册为spring的bean；来表示数据访问层的bean。<br><code>@Service</code>:将当前类注册为spring的bean；来表示业务逻辑类的bean。<br><code>@Component</code>:将当前类注册为spring的bean。<br> 这样分开来做职责更加明确。</li></ol><br><ol start="9"><li><code>@Pattern</code>:主要作用是对字符串字段进行正则表达式匹配，确保输入的数据符合指定的格式。注意跟其他验证注解的区别，比如<code>@Size</code>是限制长度，<code>@Email</code>是专门验证邮箱，而<code>@Pattern</code>更加灵活，可以用正则表达式自定义规则，另外，<code>@Pattern</code>的message属性，用于自定义错误信息。</li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Pattern</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">regexp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^[a-zA-Z0-9]{6,20}$&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;password内容不正确&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><br><ol start="10"><li><code>@Min</code>：是<code>Java Bean Validation</code>中的一个注解，用于验证数值的最小值，它通常用在字段、方法参数或返回值上，确保数值不低于指定的最小值。</li></ol><br><ol start="11"><li><code>@Range</code>:是<code>Hibernate Validator</code>提供的一个扩展注解，用于验证数值是否在指定范围内。</li></ol><br><ol start="12"><li><code>@SaCheckPermission</code>:是<code>Sa-Token</code>权限认证框架提供的注解，用于在方法或接口级别进行权限验证，当用户访问被注解标记的资源时，系统会自动检查该用户是否具备指定权限，若无权限则拦截请求并抛出异常。<br> 基础使用：添加依赖：在<code>pom.xml</code>中引入<code>Sa-Token</code>：</li></ol><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;cn.dev33&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;sa-token-spring-boot-starter&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;1.37.0&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>在方法上添加注解：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RestController</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //检查单个权限</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:add&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user/add&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//进行映射  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;创建用户成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //检查多个权限（AND逻辑）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckPermmission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:delete&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DeleteMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user/{id}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用delete请求方法</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deleteUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;删除用户成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //检查多个权限（OR逻辑）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:update&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SaMode.OR)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PutMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user/{id}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//使用PUT请求方法，修改</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;更新用户成功&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>如何实现免鉴权接口？<br> 使用<code>@SaCheckDisable</code>或配置白名单：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckDisable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/public/data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">publicData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;开放数据&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">；</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>如何区分角色和权限？<br> 角色：使用：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckRole</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>权限：使用：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user:delete&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>又或者：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SaCheckPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ROOT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;USER:SELECT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SaMode.OR)</span></span></code></pre></div><br><ol start="13"><li><code>@RequestBody</code>:是用来将HTTP请求体中的JSON或XML数据绑定到Java对象的。通常用于POST或PUT请求，处理前端发送的复杂结构数据。这个注解是Spring框架中用于将HTTP请求体内容绑定到Java对象的注解，主要用于处理JSON/XML格式的请求数据。<br> 应用场景：接收前端通过POST、PUT等请求发送的复杂结构化数据，如对象、集合嵌套。 <br></li></ol><p>对比其他注解：<br><code>@RequestParam</code>:接收URL参数或表单数据。 <code>@PathVariable</code>:接收URL路径中的动态参数。 <code>@RequestBody</code>:接收请求体中的结构化数据(如application/json)。</p><br><ol start="14"><li><code>@Valid</code>:此注解可能是在开发<code>RESTful API</code>时，遇到了需要客户端传入的数据的情况，比如表单提交或JSON请求体。<code>@Valid</code>通常与<code>@RequestBody</code>一起使用，用于触发<code>Bean Validation</code>,比如<code>Hibernate Validator</code>。 <br></li></ol><p><code>@Valid</code>是<code>Java Bean Validation</code>规范中的注解，用于触发对对象属性的自动验证。在Spring中，它常与<code>@RequestBody</code>、<code>@ModelAttribute</code>等注解配合使用，确保客户端传入的数据符合业务规则（如非空、长度限制、格式校验等）。 <br></p><p>核心功能：（1）自动校验请求数据：对客户端传入的JSON、表单等数据进行字段级验证，确保合法性：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/users&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//进行映射，使用的POST请求方法</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ResponseEntity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Valid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequsetBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User user){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //若user的字段不符合校验规则，直接抛出异常</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ResponseEntity.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ok</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>(2)支持级联验证：如果对象的属性是另一个对象，可通过嵌套<code>@Valid</code>触发级联校验：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Valid</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //触发Address内部的校验规则</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Address address;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>(3)与校验注解配合使用：需在字段上定义具体的校验规则： <code>@NotNull</code>:字段不能为null<br><code>@Size</code>:字符串/集合长度范围<br><code>@Email</code>:邮箱格式校验<br><code>@Min/@Max</code>:数字最小值/最大值<br><code>@Pattern</code>:正则表达式匹配<br></p><br><ol start="15"><li><code>@Cacheable</code>：将方法中返回的对象缓存到<code>redis</code>中，<code>redis</code>中的数据有两个属性，一个value,一个<code>key</code>：</li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Cacheable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cacheNames</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HashMap </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">searchById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>该注解想要起作用，还需在主类中添加<code>@EnableCaching</code>:</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EnableCaching</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HisApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>当需要销毁商品的缓存时，需要给更新或删除的方法加<code>@CacheEvict</code>:</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CacheEvict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cacheNames</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;goods&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">condition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#param.get(&#39;status&#39;)==false&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Map param){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>(上述param对象有两个属性，一个主键id，一个status)</p><br><ol start="16"><li><code>@Slf4j</code>:是Lombok提供的一个注解，用于在Java类自动生成一个SLF4J的日志对象log，从而简化日志代码的编写。</li></ol><br><ol start="17"><li><code>@Resource</code>:用于依赖注入（即自动将Spring容器中的Bean注入到目标位置），在Spring框架中，它被用来自动装配Bean。</li></ol><br><br><h2 id="构建" tabindex="-1">构建 <a class="header-anchor" href="#构建" aria-label="Permalink to &quot;构建&quot;">​</a></h2><ol><li>在Java文件夹下的<code>com.example.his.api</code>包下创建<code>mis</code>包，在<code>mis</code>包下新建一个包叫<code>service</code>,在<code>service</code>包下新建一个接口叫<code>UserService</code>,在接口里面声明抽象方法。接下来去到实现类里面把抽象方法实现一下，在package<code>service</code>底下新建一个包叫<code>Impl</code>，在这个包里面新建一个Java类叫<code>UserServiceImpl</code>。并且再<code>mis</code>包下边新建一个包叫<code>controller</code>,如果写Web方法就放在<code>controller</code>的实现类里面。 <img src="/his-note/assets/image40.zyAhXweq.png" alt=""></li></ol><br><br><h2 id="引用变量" tabindex="-1">引用变量 <a class="header-anchor" href="#引用变量" aria-label="Permalink to &quot;引用变量&quot;">​</a></h2><p>在Java中，引用变量是指向对象的变量，它们存储的是对象在内存中的地址，而不是对象本身的值。引用变量的主要特点是通过它们可以访问对象，并且可以通过赋值操作将一个引用变量的值赋给另一个引用变量。引用变量包含了对对象的引用，假如定义一个类<code>Circle</code>，这个类是一种引用类型，该类类型的变量可以引用该类的一个实例：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Circle circle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Circle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//参数表示半径</span></span></code></pre></div><p>这个例子中，变量<code>circle</code>的值保存的是一个引用，它指明这个<code>Circle</code>对象的内容存储在内存的什么位置。 <br></p><p><strong>基本类型变量和引用类型变量的区别：</strong><br> 每个变量都代表一个保存了存储值的内存位置，声明一个变量时，就是在告诉编辑器这个变量可以存放什么类型的值。<br> 基本类型变量：在内存中存储的是一个基本类型值，可以在栈中直接分配内存，例如<code>int a = 1;</code>中变量a的值就是int值1。<br> 引用类型变量： 对应内存所存储的值是一个引用，是对象的存储地址，对象的引用在栈中，对象实际存放在堆中。</p><br><br><h2 id="名词" tabindex="-1">名词 <a class="header-anchor" href="#名词" aria-label="Permalink to &quot;名词&quot;">​</a></h2><ol><li><code>Dao</code>：通常指的是数据访问对象（Data Access Object）。</li></ol><br><br><h2 id="接口" tabindex="-1">接口 <a class="header-anchor" href="#接口" aria-label="Permalink to &quot;接口&quot;">​</a></h2><p>接口是一种定义方法签名的类型，类可以实现接口来提供具体的方法实现。在Java、ts中，接口是一种约定规范，用于定义类或对象的行为，但不包含具体实现。<br> 核心作用：<br></p><ol><li>解耦：分离“做什么”（接口定义）和“怎么做”（具体实现）。</li><li>多态：允许不同类通过同一接口提供不同实现。</li><li>标准化：强制实现类遵守统一的方法签名。</li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//定义接口</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//抽象方法（无具体实现）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//类实现接口</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Dog</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> eat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;狗吃骨头&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;狗趴着睡&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><br><h2 id="springboot" tabindex="-1">SpringBoot <a class="header-anchor" href="#springboot" aria-label="Permalink to &quot;SpringBoot&quot;">​</a></h2><p><code>SpringBoot</code>是一个脚手架，用于快速搭建一个基于<code>Spring</code>的<code>Web</code>应用，创建即可开发业务代码。其设计目的是用来简化<code>Spring</code>应用的初始搭建以及开发过程。 <br></p><p><strong>优点：</strong><br> （1）快速构建一个独立的<code>Spring</code>应用程序；<br> （2）嵌入了<code>Tomcat</code>、<code>Jetty</code>，无需部署<code>WAR</code>包，只需要将<code>SpringBoo</code>t打成一个<code>Jar</code>包，直接通过<code>Java</code>跟<code>Jar</code>就可以直接启动<code>Web</code>应用；<br> （3）提供了各种各样的<code>starter</code>，比如说要继承<code>springvc</code>，就有<code>springvc</code>对应的<code>starter</code>；如果要集成<code>redis</code>，就用<code>redis</code>对应的<code>starter</code>，这样就可以简化Maven配置，并且还帮助管理版本号，减少版本不一致带来的版本冲突的问题；<br> （4）对<code>Spring</code>和第三方库提供默认配置，也称为自动配置类，采用约定大于配置的方式，只要添加了对应的<code>starter</code>依赖，就会包含对应的自动配置，从而做到开箱即用。<br> （5）无需配置XML。 <br></p><p>比如对一个用户系统的用户模块，后端通过三层的结构:<br> 第一层是控制层，通过springmvc来实现，：<code>@RestController</code>、<code>@Controller</code>。<br> 业务层写一些业务逻辑代码,:<code>@Service</code>。<br> 数据访问层去提供数据库操作的功能，通过SpringData JPA来实现，是Spring生态自带的，可以无缝的进行集成。 <br></p><p><img src="/his-note/assets/image41.Dgbzl5lw.png" alt=""><img src="/his-note/assets/image42.CiTyMtPG.png" alt=""><img src="/his-note/assets/image43.vwg2BMyf.png" alt=""><br></p><p>想要一个实体类映射为数据库中的一个表，因为springdata jpa是面向对象的方式操作数据库，所以可以加上一个<code>@Table</code>，再加上一个<code>@Entity</code>,这样就相当于把这个类映射成了一个表。<code>@Table</code>默认会将类名当作表名，所以需要在注解中声明一下：<br><img src="/his-note/assets/image44.C1UOqaYm.png" alt=""><br> 报错说要添加主键id，解决方法：加上@Id注解，将user_id作为主键id。id是以什么样的方式生成，如果希望它是自动生成的方式，加上<code>@GeneratedValue</code>,并指定其策略，比如说<strong>自增</strong>的方式： <img src="/his-note/assets/image45.Buc_-mLl.png" alt=""><br> 通过可以把字段名用<code>@Column</code>改一下，默认情况下会把属性名作为数据库表的字段名，所以可以映射一下：<br><img src="/his-note/assets/image46.Bwlw7VWB.png" alt=""><br> 如果想项目运行的时候自动生成数据库的表，就需要在<code>application.properties</code>配置文件中加上</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spring.jpa.hibernate.ddl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">auto</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">update</span></span></code></pre></div><p>此外它到时候会生成数据库的SQL语句，希望让他打印在控制台上，可是如果不格式化一下，即<code>format_sql</code>一下，它会打印在一行上，不方便我们阅读：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spring.jpa.properties.hibernate.format_sql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>此外：显示sql：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">spring.jpa.show</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>利用这种springdata jpa面向对象的数据库持久化方式可以增加开发效率。 <img src="/his-note/assets/image47.P59Y_8R8.png" alt=""></p><br><ol><li>创建一个空的对象：</li></ol><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ArrayList&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HashMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArrayList&lt;&gt;();</span></span></code></pre></div><p>因为可能在项目的时候，返回json数据给前端项目的时候，<code>spingboot</code>有一个特点：返回的json里面如果存在空值的话，<code>springboot</code>会自动把这个json属性给去掉，如果不希望前端拿到的json属性缺少属性，宁可让json的属性值是空字符串或者空的数组，也比空值强。如果这个json的属性值是空值，那么<code>springboot</code>返回的这个json里面就缺少这个属性。</p><br><br><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><h3 id="_1-1" tabindex="-1">@1 <a class="header-anchor" href="#_1-1" aria-label="Permalink to &quot;@1&quot;">​</a></h3><p>错误：Java：错误：不支持发行版本19 解答：通常是由于项目配置的Java版本与本地安装的JDK版本不一致导致的。 <br></p><h3 id="_2" tabindex="-1">@2 <a class="header-anchor" href="#_2" aria-label="Permalink to &quot;@2&quot;">​</a></h3><p>错误：<code>Connection refused:no further information</code><br> 解释：这说明客户端无法连接到指定的端口。<br> 诱因：包括服务未启动、端口被占用、防火墙阻止连接，或者SSL证书问题。若使用的是HTTPS，可能还涉及证书信任的问题。<br> 具体分析:（1）服务未运行：检查用户是否启动了后端服务。如果服务没有运行，端口7700自然不会被监听，导致连接被拒绝。<br> （2）端口监听问题：服务可能运行在错误的端口上，或者服务配置有问题。需要检查应用的配置文件，比如<code>Spring Boot</code>的<code>application.properties</code>中的<code>server.port</code>设置。<br> （3）防火墙或安全软件拦截：虽然本地连接一般不会被防火墙拦截，但某些安全软件可能会阻止本地回环地址的连接。需要用户检查防火墙设置，暂时关闭防火墙测试。<br> （4）HTTPS配置问题：使用的是HTTPS，但可能服务没有正确配置SSL证书，或者客户端不信任自签名证书。需要检查服务是否支持HTTPS，证书是否有效，或者建议用户暂时使用HTTP进行测试，排除证书问题。<br> （5）IPv4/IPv6冲突：本地可能有IPv6的配置问题，导致无法正确解析localhost。可以尝试使用127.0.0.1代替localhost，或者检查hosts文件配置。</p><br><br><h2 id="rest" tabindex="-1">Rest <a class="header-anchor" href="#rest" aria-label="Permalink to &quot;Rest&quot;">​</a></h2><p>其实就是客户端根据不同的请求方法：<code>GET</code>、<code>POST</code>、<code>PUT</code>、<code>DELETE</code>。当我们发起任何一个请求，比如打开任意一个网页，到我们服务端都会带一个请求头，这个请求头就会有它当前的请求方法。<code>GET</code>表查询，用<code>@GetMapping</code>。<code>POST</code>表新增，用<code>@PostMapping</code>来进行映射。<code>PUT</code>表修改，用<code>@PutMapping</code>。<code>DELETE</code>表删除，用<code>@DeleteMapping</code>。<br> 例如增加：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这里<code>add()</code>需要接受一个客户端传过来的<code>user</code>信息,当然还可以直接把这个<code>User</code>类用于参数接收，即：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(User user){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>但对于规范有要求的项目，一般都会用<code>DTO</code>的类即数据传输类来去接收这些客户端请求过来的参数。因为客户端请求过来的参数不一定就是pojo类所包含的这几个参数： <img src="/his-note/assets/image48.D2_aK12n.png" alt=""> 我的这个pojo类只有四个参数，用User类来接收完全可以。对于有规范要求的项目，可以在<code>pojo</code>里面再加一个<code>dto</code>的包，创建一个<code>UserDto</code>类。然后将<code>User</code>类里面的声明变量复制一份到<code>UserDto</code>中，于是将<code>UserDto</code>作为前端参数的一个接收。<br> 最好加上一个<code>@RequestBody</code>,传进<code>UserDto</code>来的是一个json文本，会帮我们转换成对象：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserDto user){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>通常一个业务逻辑类会创建一个接口，这样面向接口进行编程，对于以后的扩展性、维护性会更强。学了设计模式就会明白接口对于扩展性的好处。<br> 在业务逻辑类中标记成spring的bean之后，就可以在接口包中用<code>@Autowired</code>自动装配进来，用userService来进行接收。</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">IUserService userService;</span></span></code></pre></div><p>在业务逻辑层调用数据访问的方法，则在数据库访问层<code>repository</code>新建一个类。如果我们使用的是springdata jpa，因为对应的增删查改的方法不需要我们自己去实现，我们只需要去继承一个<code>CrudRepository</code>，这个接口会自动帮我们实现好。<br></p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserRepository</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CrudRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这时可以去指定两个类型：第一个类型是要操作哪个<code>pojo</code>类：<code>pojo</code>包的<code>User</code>pojo类,第二个类型是你当前这个<code>User</code>类的主键Id是什么数据类型：<code>Integer</code>：</p><div class="language-Java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Repository</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> //当前类注册为spring的Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserRepository</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CrudRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><br><h2 id="语句解读" tabindex="-1">语句解读 <a class="header-anchor" href="#语句解读" aria-label="Permalink to &quot;语句解读&quot;">​</a></h2><h3 id="_1-2" tabindex="-1">@1 <a class="header-anchor" href="#_1-2" aria-label="Permalink to &quot;@1&quot;">​</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#{userId}</span></span></code></pre></div><p><code>#{}</code>同场出现在``MyBatis<code>这样的持久层框架中，用于参数占位符，用来动态替换为具体的值。这种写法在预编译SQL中的好处，比如参数化查询、提高安全性、以及数据库的查询性能优化。例如，使用</code>#{}<code>时，</code>MyBatis<code>会将参数作为预编译的参数传递，而不是直接拼接到SQL语句中，从而避免SQL注入攻击。&lt;br&gt; 若</code>userId=100`，实际执行的SQL会变为：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">?</span></span></code></pre></div><br><br><h2 id="java" tabindex="-1">java <a class="header-anchor" href="#java" aria-label="Permalink to &quot;java&quot;">​</a></h2><h3 id="_1-3" tabindex="-1">@1 <a class="header-anchor" href="#_1-3" aria-label="Permalink to &quot;@1&quot;">​</a></h3><p>写后端java代码的套路：先写持久层，然后是业务层和web层的代码。<br> 持久层：通常指的是数据访问层，负责与数据库交互，比如使用JDBC、Hibernate或MyBatis。<br> 业务层：也称为服务层，处理业务逻辑，确保业务流程正确执行。<br> Web层：或表现层，处理用户的HTTP请求和响应，比如Spring MVC中的控制器。<br> 每一层的作用：<br> 持久层负责数据的CRUD操作；业务层处理具体的业务规则和逻辑;Web层负责接收用户输入，调用业务业务层处理，并返回结果给用户。书写顺序方面，通常是从底层到高层，先写持久层，然后是业务层，最后是Web层。 <br></p><p>如果混淆业务层和Web层的职责，或者在分层时不够清晰，导致代码耦合。应该强调各层的独立性和它们如何通过接口交互，以提高代码的可维护性和可测试性。 <br></p><p><strong>书写顺序一般需要先定义实体类，然后写DAO接口和实现，接着是服务层接口和实现，最后是控制器。</strong><br></p><br><br><h2 id="dao接口" tabindex="-1">DAO接口 <a class="header-anchor" href="#dao接口" aria-label="Permalink to &quot;DAO接口&quot;">​</a></h2><p>DAO的全称是<code>Data Access Object</code>,数据访问对象。dao接口即定义数据访问操作的方法，而不涉及具体实现。从分层架构的角度解释，比如MVC模式中，DAO属于数据访问层，负责与数据库交互。接口的作用是为了<strong>解耦</strong>，让业务逻辑层不直接依赖具体的数据库操作实现，方便替换和测试。 <br></p><p>比如一个<code>UserDAO</code>接口，里面有save、findById等方法，然后有不同的实现类，比如说用JDBC、Hibernate或者JPA实现的。这样当更换持久层技术时，业务代码不需要改动，只需要换实现类。 <br></p><p>DAO接口是软件设计中数据访问对象模式的核心组成部分，主要用于解耦业务逻辑与数据访问逻辑。DAO接口是一个定义数据操作方法的约定（方法签名），它声明了对某个实体（如数据库表）进行增删改查<strong>CRUD</strong>等操作的标准方法，但不提供具体实现：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserDao</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Long </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//根据ID查询用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> save</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(User </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//保存用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(User </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//更新用户</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> deleteById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Long </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//根据id删除用户</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//查询所有用户</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>DAO接口的实现:<br> 接口定义规范后，需提供具体实现类：<br> （1）基于JDSC的实现</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserDaoJdbcImpl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserDao</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Long </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //使用JDBC编写SQL查询逻辑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String sql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT * FROM users WHERE id=?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //执行查询并返回User对象</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>（2）基于MyBatis的实现</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserDao</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT * FROM users WHERE id = #{id}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    User </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Long </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>（3）基于Spring Data JPA的实现</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserRepository</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JpaRepository</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //继承JpaRepository后，自动拥有findId、save等方法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>DAO和Repository模式的区别:<br> DAO:设计目标（封装数据访问细节（SQL、事务））、抽象层次（较低层：直接操作表）、典型应用（JDBC、MyBatis）。<br> Repository:设计目标（提供面向对象的集合式数据操作接口）、抽象层次（较高层：领域驱动设计，DDD）、典型应用（Spring Data JPA、Hibernate）。</p><br><br><h2 id="spring-mvc" tabindex="-1">Spring MVC <a class="header-anchor" href="#spring-mvc" aria-label="Permalink to &quot;Spring MVC&quot;">​</a></h2><blockquote><p>首先，MVC是一个设计模式。<br></p></blockquote><p>MVC(Model-View-Controller),用于将应用程序的逻辑分层，让代码更清晰、更易维护。它把程序分为三个核心部分：<br> （1）<code>Model</code>:管理数据和业务逻辑（如数据库操作、计算规则）；<br> 类比现实例子：餐厅的厨房：处理食材、制作菜品。<br> （2）<code>View</code>:展示数据（如网页界面、APP页面）；<br> 类比现实例子：餐厅的菜单和餐桌：展示菜品。<br> （3）<code>Controller</code>:接收用户输入（如点击按钮），协调Model和View更新；<br> 类比现实例子：服务员：接收点餐，通知厨房，上菜。 <br></p><p>工作流程:（1）用户通过View界面触发操作（例如点击按钮）；<br> （2）Controller接收用户请求，调用Model处理数据；<br> （3）Model更新数据后，通知View刷新界面。</p><blockquote><p><code>Spring MVC</code>是Java中的一个框架。<br></p></blockquote><p><code>Spring MVC</code>是<code>Spring</code>框架中的一个模块，专门用于简化<code>Java Web</code>开发。它基于MVC模式，提供了现成的组件来处理HTTP请求、数据绑定和视图渲染。<br><code>Spring MVC</code>的核心组件：<br> （1）<code>DispatcherServlet</code>:前端控制器，统一接收所有请求并分发。 （2）<code>Controller</code>:处理业务逻辑，返回数据或视图名称。 （3）<code>ViewResolver</code>:根据视图名称找到具体的页面（如JSP、HTML）。 （4）<code>Model</code>:封装数据，传递给视图层显示。 <br></p><p><code>Spring MVC</code>处理请求的流程：<br> （1）用户发送HTTP请求到<code>DispatcherServlet</code>。<br> （2）<code>DispatcherServlet</code>调用<code>HandleMapping</code>,找到对应的<code>Controller</code>。<br> （3）<code>Controller</code>处理请求，返回<code>Model</code>和视图名称。<br> （4）<code>ViewResolver</code>解析视图名称，找到具体的页面。<br> （5）<code>View</code>渲染数据（如填充HTML模板），返回响应给用户。 <br></p><p>实例版：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Controller</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Model </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        User user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">findUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//Model处理数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        model.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addAttribute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, user);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//数据传递给View</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;user-page&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//返回视图名称（如user-page.jsp）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><br><p>为什么需要<code>MVC</code>和<code>SpringMVC</code>？ （1）代码分层清晰：业务逻辑、界面展示、用户输入分离、便于维护。 （2）复用性高：Model可以复用与不同界面（如网页和手机APP）。 （3）简化开发：<code>Spring MVC</code>封装了复杂操作（如请求解析、视图渲染），开发者只需关注业务逻辑。</p><br><br><h2 id="解耦" tabindex="-1">解耦 <a class="header-anchor" href="#解耦" aria-label="Permalink to &quot;解耦&quot;">​</a></h2><blockquote><p>旨在降低组件之间的依赖关系，使各部分能够独立开发、测试、修改和扩展，从而提高系统的灵活性和可维护性。</p></blockquote><p>在软件设计中，模块之间的耦合度高的话，修改一个模块可能会影响到其他模块，这样维护起来就会很麻烦。比如面向对象编程，模块之间不直接依赖具体的实现，而是通过接口来通信，这样即使实现变了，接口不变的话其他模块也不需要改。又比如在分布式系统中，服务之间的解耦可能用消息队列，这样服务之间不直接调用，而是通过消息传递，这样即使一个服务暂时不可用，也不会直接影响其他服务。 <br></p><p>不过，解耦也有代价，比如引入中间件可能会增加系统的复杂性，或者增加延迟。比如用消息队列的话，消息的处理可能会有延迟，而且需要处理消息丢失或者重复的情况。所以在设计的时候需要权衡解耦带来的好处和引入的复杂性。 <br></p><p>另外，设计模式中的观察者模式、发布-订阅模式也可以看作解耦的一种方式。让发布者和订阅者不直接依赖彼此，而是通过事件或者消息来通信。这样发布者不需要知道谁订阅了消息，订阅者也不需要知道消息来自哪里，双方都更独立。 <br></p><p>再比如，解耦的另一个方面可能是分层架构，比如MVC模式，把模型、视图、控制器分开，各自负责不同的职责，这样修改视图不会影响到模型，或者修改控制器也不会直接影响视图。</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/his-note/springboot/servlet.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Servlet</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/his-note/springboot/demo.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>项目构建</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"bug_bug.md\":\"BjvHlaz-\",\"cloud_minio.md\":\"dWXWZ1Xj\",\"docker_command.md\":\"DWilhsQQ\",\"eightessay_redis.md\":\"C7AerdDT\",\"index.md\":\"C6bpTuAC\",\"interview_work.md\":\"B_GFXIJr\",\"interview_work_bottom.md\":\"qmmqY5t1\",\"interview_work_high.md\":\"C2zfGwYe\",\"interview_work_middle.md\":\"BLksNhyO\",\"java_javase.md\":\"MJW917sd\",\"springboot_api-examples.md\":\"KBMx23Qm\",\"springboot_at-bean.md\":\"uykzO94b\",\"springboot_at-override.md\":\"HGyRflko\",\"springboot_dairy.md\":\"DZC02sym\",\"springboot_demo.md\":\"BMPeTfaC\",\"springboot_oop.md\":\"DyF1IsH2\",\"springboot_question.md\":\"Ci_qcWLX\",\"springboot_sa-token.md\":\"-vWusPRG\",\"springboot_servlet.md\":\"D-XOK5OM\",\"springboot_tip.md\":\"CUx0DRGL\",\"tip_tip1.md\":\"B6dUBz-s\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"his-note\",\"description\":\"his-site\",\"base\":\"/his-note/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"}],\"sidebar\":[{\"text\":\"SpringBoot\",\"collapsed\":true,\"items\":[{\"text\":\"OOP\",\"link\":\"/springboot/oop\"},{\"text\":\"@Bean\",\"link\":\"/springboot/at-bean\"},{\"text\":\"@Override\",\"link\":\"/springboot/at-override\"},{\"text\":\"SaToken\",\"link\":\"/springboot/sa-token\"},{\"text\":\"Question\",\"link\":\"/springboot/question\"},{\"text\":\"Dairy\",\"link\":\"/springboot/dairy\"},{\"text\":\"Servlet\",\"link\":\"/springboot/servlet\"},{\"text\":\"每日小Tip\",\"link\":\"/springboot/tip\"},{\"text\":\"项目构建\",\"link\":\"/springboot/demo\"}]},{\"text\":\"Java\",\"collapsed\":true,\"items\":[{\"text\":\"Java基础语法\",\"link\":\"/java/javaSE\"}]},{\"text\":\"Eight-legged Essay\",\"collapsed\":true,\"items\":[{\"text\":\"Redis\",\"link\":\"/eightessay/redis\"}]},{\"text\":\"Interview\",\"collapsed\":true,\"items\":[{\"text\":\"面试宝典\",\"link\":\"/interview/work\"},{\"text\":\"Java核心技术\",\"link\":\"/interview/work_bottom\"},{\"text\":\"Java核心技术进阶\",\"link\":\"/interview/work_middle\"},{\"text\":\"Java核心技术高阶\",\"link\":\"/interview/work_high\"}]},{\"text\":\"Docker\",\"collapsed\":true,\"items\":[{\"text\":\"命令\",\"link\":\"/docker/command\"}]},{\"text\":\"Cloud\",\"collapsed\":true,\"items\":[{\"text\":\"minio容器\",\"link\":\"/cloud/minio\"}]},{\"text\":\"Bug\",\"collapsed\":true,\"items\":[{\"text\":\"bug\",\"link\":\"/bug/bug\"}]},{\"text\":\"Tips\",\"collapsed\":true,\"items\":[{\"text\":\"tip1\",\"link\":\"/tip/tip1\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>